server:
  listen_addr: ":8080"
  read_timeout: "30s"
  write_timeout: "30s"
  shutdown_timeout: "10s"

auth:
  provider: "google"
  client_id: "${OAUTH_CLIENT_ID}"
  client_secret: "${OAUTH_CLIENT_SECRET}"
  redirect_url: "https://auth.yourdomain.com/callback"
  session_duration: "24h"
  cookie_domain: ".yourdomain.com"
  cookie_secure: true

upstream:
  - host: "app.yourdomain.com"
    target: "http://app-service:8080"
    timeout: "30s"
  - host: "api.yourdomain.com"
    target: "http://api-service:3000"
    timeout: "10s"

policy:
  default_action: "deny"
  cache_size: 10000
  rules:
    - name: "public_access"
      path: "/public/*"
      methods: ["GET"]
      action: "allow"
    - name: "authenticated_access"
      path: "/*"
      methods: ["GET", "POST", "PUT", "DELETE"]
      require_auth: true
      action: "allow"

rate_limiting:
  requests_per_second: 100.0
  burst_size: 200
  auth_requests_per_minute: 10
  cleanup_interval: "5m"

audit:
  enabled: true
  log_path: "/dev/stdout"
  include_request_body: false
  include_response_body: false

metrics:
  enabled: true
  path: "/metrics"
  namespace: "sekisho"